<div class="text-center mb-3 theme-clr">
    <h1 class="py-2 fw-bold">Purchase Orders</h1>
</div>
<!-- <div class="card">
    <p-table [value]="purch" [paginator]="true" [rows]="20" [scrollable]="true" scrollHeight="500px">
        <ng-template pTemplate="header">
            <tr>
                <th>Purchase_Id</th>
                <th>ProductName</th>
                <th>Quantity</th>
                <th>UnitPrice</th>
                <th>TotalPrice</th>
                <th>SellPrice</th>
                <th>PurchaseDate</th>
                <th>PaymentMethod</th>
                <th>Status</th>
                <th>Edit</th>
                <th>Delete</th>
            </tr>
        </ng-template>
        <ng-template pTemplate="body" let-p>
            <tr [ngClass]="{
                'bg-warning': (p.status || '').toLowerCase() === 'pending',
                'bg-danger': (p.status || '').toLowerCase() === 'reject',
                'bg-success': (p.status || '').toLowerCase() === 'success'
              }">
                <td>{{p.purchase_Id}}</td>
                <td>{{ p.productName }}</td>
                <td>{{ p.quantity }}</td>
                <td>{{ p.unitPrice}}</td>
                <td>{{ p.totalPrice }}</td>
                <td>{{p.sellPrice}}</td>
                <td>{{ p.purchaseDate }}</td>
                <td>{{ p.paymentMethod}}</td>
                <td>{{ p.status }}</td>
                <td><button class="btn btn-primary">Edit <i class="bi bi-pencil-square"></i></button></td>
                <td><button class="btn btn-danger">Delete <i class="bi bi-trash3"></i></button></td>

            </tr>
        </ng-template>
    </p-table>
</div> -->
<p-toast position="top-right"></p-toast>


<div class="card">
    <h5>Subheader Grouping</h5>
    <p>Group customers by their representative.</p>
    <p-table [value]="customers" sortField="representative.name" sortMode="single" [scrollable]="true" scrollHeight="400px" rowGroupMode="subheader" groupRowsBy="representative.name" [tableStyle]="{'min-width': '60rem'}">
        <ng-template pTemplate="header">
            <tr>
                <th>Name</th>   
                <th>Country</th>
                <th>Company</th>
                <th>Status</th>
                <th>Date</th>
            </tr>
        </ng-template>
        <ng-template pTemplate="groupheader" let-customer>
            <tr pRowGroupHeader>
                <td colspan="5">
                    <img [alt]="customer.representative.name" src="assets/showcase/images/demo/avatar/{{customer.representative.image}}" width="32" style="vertical-align: middle" />
                    <span class="font-bold ml-2">{{customer.representative.name}}</span>
                </td>
            </tr>
        </ng-template>
        <ng-template pTemplate="groupfooter" let-customer>
            <tr>
                <td colspan="5" class="text-right font-bold pr-6">Total Customers: {{calculateCustomerTotal(customer.representative.name)}}</td>
            </tr>
        </ng-template>
        <ng-template pTemplate="body" let-customer let-rowIndex="rowIndex">
            <tr>
                <td>
                    {{customer.name}}
                </td>
                <td>
                    <img src="assets/showcase/images/demo/flag/flag_placeholder.png" [class]="'flag flag-' + customer.country.code" width="30">
                    <span class="image-text">{{customer.country.name}}</span>
                </td>
                <td>
                    {{customer.company}}
                </td>
                <td>
                    <span [class]="'customer-badge status-' + customer.status">{{customer.status}}</span>
                </td>
                <td>
                    {{customer.date}}
                </td>
            </tr>
        </ng-template>
    </p-table>
</div>
